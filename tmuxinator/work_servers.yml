name: work_servers
root: ~/

windows:
  - email_sender_s:
      layout: 17d4,151x46,0,0[151x37,0,0{105x37,0,0,178,45x37,106,0[45x17,106,0,182,45x19,106,18,183]},151x8,0,38{75x8,0,38,184,75x8,76,38,205}]
      panes:
        - 0:
          - ssh -i ~/.ssh/id_ed25519_servers user@10.100.30.64 -p 22
          - cd Dev/lca_email_sender
        - 1:
          - ssh -i ~/.ssh/id_ed25519_servers user@10.100.30.64 -p 22
          - cd Dev/lca_email_sender
          - make psql-prod
        - 2:
          - /opt/vertica/bin/vsql -h 10.100.30.33 -p 5433 -d lca_dwh -U dev_user
        - 3:
          - ssh -i ~/.ssh/id_ed25519_servers user@10.100.30.64 -p 22
          - cd Dev/lca_email_sender
          - docker logs e-sender-app -f
        - 4:
          - ssh -i ~/.ssh/id_ed25519_servers user@10.100.30.64 -p 22
          - docker logs e-sender-tkq-worker -f
  - payment_yookassa_s:
      layout: 17d4,151x46,0,0[151x37,0,0{105x37,0,0,178,45x37,106,0[45x17,106,0,182,45x19,106,18,183]},151x8,0,38{75x8,0,38,184,75x8,76,38,205}]
      panes:
        - 0:
          - ssh -i ~/.ssh/id_ed25519_servers user@178.250.155.131 -p 8022
          - cd lca_payment_yookassa
        - 1:
          - ssh -i ~/.ssh/id_ed25519_servers user@178.250.155.131 -p 8022
          - docker exec -it py-postgres psql -U postgres -d lca_payment_yookassa
        - 2:
          - /opt/vertica/bin/vsql -h 10.100.30.33 -p 5433 -d lca_dwh -U dev_user
        - 3:
          - ssh -i ~/.ssh/id_ed25519_servers user@178.250.155.131 -p 8022
          - docker logs -f py-backend
        - 4:
          - ssh -i ~/.ssh/id_ed25519_servers user@178.250.155.131 -p 8022
          - docker logs py-tkq-worker -f
  - sms_sender_s:
      layout: 17d4,151x46,0,0[151x37,0,0{105x37,0,0,178,45x37,106,0[45x17,106,0,182,45x19,106,18,183]},151x8,0,38{75x8,0,38,184,75x8,76,38,205}]
      panes:
        - 0:
          - ssh -i ~/.ssh/id_ed25519_servers user@10.100.30.120
          - cd Dev/lca_sms_sender
        - 1:
          - ssh -i ~/.ssh/id_ed25519_servers user@10.100.30.120
          - cd Dev/lca_sms_sender
          - docker exec -it sms-sender-postgres psql -d lca_sms_sender -U postgres
        - 2:
          # - clck
          - /opt/vertica/bin/vsql -h 10.100.30.33 -p 5433 -d lca_dwh -U dev_user
        - 3:
          - ssh -i ~/.ssh/id_ed25519_servers user@10.100.30.120
          - cd Dev/lca_sms_sender
          - docker logs sms-sender-app -f
        - 4:
          - ssh -i ~/.ssh/id_ed25519_servers user@10.100.30.120
          - docker logs sms-sender-tkq-worker -f
  - 121_server:
      layout: 7ab5,151x46,0,0[151x17,0,0{115x17,0,0,34,35x17,116,0,47},151x28,0,18{66x28,0,18[66x14,0,18,48,66x13,0,33,49],84x28,67,18[84x14,67,18,50,84x13,67,33,51]}]
      panes:
        - 0:
          - ssh -i ~/.ssh/id_ed25519_servers user@10.100.30.121
          - cd Dev
        - 1:
          - ssh -i ~/.ssh/id_ed25519_servers user@10.100.30.121
          - sqlite3 Dev/lca_alert_bot/db/bot.db
        - 2:
          - ssh -i ~/.ssh/id_ed25519_servers user@10.100.30.121
          - docker logs -f vert-ex-app
        - 3:
          - ssh -i ~/.ssh/id_ed25519_servers user@10.100.30.121
          - docker logs -f alert-bot-app
        - 4:
          - ssh -i ~/.ssh/id_ed25519_servers user@10.100.30.121
          - docker logs -f vert-ex-tkq-worker
        - 5:
          - ssh -i ~/.ssh/id_ed25519_servers user@10.100.30.121
          - docker logs -f alert-bot-tkq-worker
